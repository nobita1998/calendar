<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‰ªªÂä°ÂÆåÊàêËøõÂ∫¶ - Binance Style</title>
    <link rel="icon" type="image/png" sizes="1024x1024" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0c0c0f 0%, #1a1a23 100%);
            color: #ffffff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(23, 23, 31, 0.8);
            border-radius: 16px;
            border: 1px solid #2b2b40;
            backdrop-filter: blur(10px);
            padding: 30px;
            box-shadow: 0 20px 60px rgba(240, 185, 11, 0.1);
        }

        .header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 40px;
        }

        .title {
            font-size: 2em;
            font-weight: bold;
            background: linear-gradient(45deg, #f0b90b, #fcd535);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #848e9c;
            font-size: 1.1em;
        }

        .part-section {
            margin-bottom: 30px;
        }

        .part-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #f0b90b;
            margin-bottom: 15px;
            text-align: center;
            padding: 10px;
            background: linear-gradient(135deg, rgba(240, 185, 11, 0.1) 0%, rgba(23, 23, 31, 0.9) 100%);
            border-radius: 8px;
            border: 1px solid rgba(240, 185, 11, 0.3);
        }

        .tasks-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .task-card {
            background: linear-gradient(135deg, rgba(240, 185, 11, 0.1) 0%, rgba(23, 23, 31, 0.9) 100%);
            border: 1px solid #2b2b40;
            border-radius: 12px;
            padding: 15px;
            position: relative;
            overflow: hidden;
        }

        .task-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #f0b90b, #fcd535);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .task-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #ffffff;
        }

        .task-percentage {
            font-size: 1.4em;
            font-weight: bold;
            color: #f0b90b;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #2b2b40;
            border-radius: 4px;
            margin-bottom: 10px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f0b90b, #fcd535);
            border-radius: 4px;
            position: relative;
        }

        .task-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .task-reward {
            font-size: 1em;
            color: #26a69a;
            font-weight: 600;
        }

        .summary-card {
            background: linear-gradient(135deg, rgba(240, 185, 11, 0.2) 0%, rgba(23, 23, 31, 0.9) 100%);
            border: 2px solid #f0b90b;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            margin-bottom: 20px;
        }

        .summary-title {
            font-size: 1.1em;
            color: #f0b90b;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .minimum-coins {
            font-size: 1.8em;
            font-weight: bold;
            color: #ffffff;
            text-shadow: 0 0 20px rgba(240, 185, 11, 0.8);
        }

        .coin-symbol {
            color: #f0b90b;
            margin-left: 10px;
        }

        .watermark {
            text-align: right;
            color: #848e9c;
            font-size: 1em;
            opacity: 0.8;
            margin-top: 20px;
            padding-right: 10px;
        }

        .lottery-section {
            background: linear-gradient(135deg, rgba(38, 166, 154, 0.1) 0%, rgba(23, 23, 31, 0.9) 100%);
            border: 1px solid #2b2b40;
            border-radius: 12px;
            padding: 25px;
        }

        .lottery-title {
            font-size: 1.6em;
            color: #26a69a;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .lottery-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .lottery-item {
            background: rgba(38, 166, 154, 0.1);
            border: 1px solid rgba(38, 166, 154, 0.3);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .lottery-emoji {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .lottery-rate {
            color: #26a69a;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .lottery-reward {
            color: #f0b90b;
            font-size: 1.1em;
            font-weight: 600;
        }

        .special-section {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.1) 0%, rgba(23, 23, 31, 0.9) 100%);
            border: 1px solid rgba(138, 43, 226, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .special-title {
            font-size: 1.4em;
            color: #8a2be2;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
        }

        .special-item {
            background: rgba(138, 43, 226, 0.1);
            border: 1px solid rgba(138, 43, 226, 0.3);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        @media (max-width: 768px) {
            body { padding: 10px; }
            .container { max-width: 100%; margin: 0; border-radius: 16px; padding: 20px; }
            .header { margin-bottom: 20px; }
            .title { font-size: 1.5em; }
            .subtitle { font-size: 0.95em; }
            .tasks-grid { grid-template-columns: 1fr; gap: 12px; }
            .task-card { padding: 12px; border-radius: 10px; }
            .task-title { font-size: 1em; }
            .task-percentage { font-size: 1.2em; }
            .progress-bar { height: 6px; }
            .summary-card { padding: 12px; }
            .lottery-section { padding: 16px; border-radius: 10px; }
            .lottery-grid { grid-template-columns: 1fr; gap: 12px; }
            .lottery-grid[style*="1fr 1fr 1fr 1fr"] { grid-template-columns: 1fr 1fr !important; }
            div[style*="grid-template-columns: 1fr 1fr"] { grid-template-columns: 1fr !important; }
            .lottery-title { font-size: 1.3em; }
            .lottery-item { padding: 16px; }
            .back-link { padding: 6px 10px; font-size: 14px; }
        }

        /* ËøîÂõûÊåâÈíÆÊ†∑ÂºèÔºà‰∏éÊó•ÂéÜÈ£éÊ†º‰∏ÄËá¥Ôºâ */
        .back-link {
            display: inline-block;
            background: linear-gradient(135deg, #0ecb81 0%, #1dd1a1 100%);
            color: #000;
            font-weight: 700;
            padding: 8px 12px;
            border-radius: 8px;
            text-decoration: none;
            box-shadow: 0 2px 8px rgba(14,203,129,.3);
        }
        @media (max-width: 480px) {
            .header { padding-top: 8px; }
            .title { font-size: 1.25em; }
            .task-title { font-size: 0.95em; }
            .task-percentage { font-size: 1.1em; }
            .progress-bar { height: 5px; }
            .back-link { font-size: 13px; padding: 6px 10px; }
            .summary-title { font-size: 1em; }
            .minimum-coins { font-size: 1.5em; }
        }
        .back-link:hover { transform: translateY(-1px); box-shadow: 0 4px 16px rgba(14,203,129,.5); }
        .back-fixed { position: fixed; top: 16px; left: 16px; z-index: 1000; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="back-link" aria-label="ËøîÂõûÊó•ÂéÜ" onclick="if (document.referrer && new URL(document.referrer).origin === location.origin) { history.back(); return false; }">‚Üê ËøîÂõûÊó•ÂéÜ</a>
            <h1 class="title">Binance Booster Êî∂ÁõäÊµãÁÆó -- BitLayer Á¨¨‰∫åÊúü</h1>
        </div>

        <!-- Part 1 -->
        <div class="part-section">
            <div class="part-title">Part 1 - Â∏∏ËßÑ‰ªªÂä°</div>
            <div class="tasks-grid">
                <div class="task-card">
                    <div class="task-header">
                        <span class="task-title">Part 1 ‰ªªÂä°</span>
                        <span class="task-percentage">90%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 90%;"></div>
                    </div>
                    <div class="task-footer">
                        <span></span>
                        <div class="task-reward">‰∫∫ÂùáÂ•ñÂä±: 56 Â∏Å</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Part 2 -->
        <div class="part-section">
            <div class="part-title">Part 2 - ÊäΩÂ•ñ‰∏éÂàÜÈÖç‰ªªÂä°</div>
            <div class="lottery-section">
                <div class="lottery-grid" style="grid-template-columns: 1fr 1fr 1fr 1fr;">
                    <div class="lottery-item">
                        <div class="lottery-emoji">üé∞</div>
                        <div style="font-weight: 600; margin-bottom: 10px;">Mint >= 0.005 YBTC</div>
                        <div class="lottery-rate">20000‰∫∫‰∏≠Â•ñ</div>
                        <div class="lottery-reward">ÊØè‰∫∫: 70 Â∏Å</div>
                    </div>
                    <div class="lottery-item">
                        <div class="lottery-emoji">üé≤</div>
                        <div style="font-weight: 600; margin-bottom: 10px;">Mint >= 0.05 YBTC</div>
                        <div class="lottery-rate">2000‰∫∫‰∏≠Â•ñ</div>
                        <div class="lottery-reward">ÊØè‰∫∫: 500 Â∏Å</div>
                    </div>
                    <div class="lottery-item">
                        <div class="lottery-emoji">üìã</div>
                        <div style="font-weight: 600; margin-bottom: 10px;">Mint >= 0.5 YBTC</div>
                        <div class="lottery-rate">ÂèÇ‰∏éÁéá: 66% | 199‰∫∫ÂèÇ‰∏é</div>
                        <div class="lottery-reward">ÊØè‰∫∫: 3015 Â∏Å</div>
                    </div>
                    <div class="lottery-item">
                        <div class="lottery-emoji">üìä</div>
                        <div style="font-weight: 600; margin-bottom: 10px;">Mint >= 1 YBTC</div>
                        <div class="lottery-rate">ÂèÇ‰∏éÁéá: 100% | 150‰∫∫ÂèÇ‰∏é</div>
                        <div class="lottery-reward">ÊØè‰∫∫: 6000 Â∏Å</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Part 3 -->
        <div class="part-section">
            <div class="part-title">Part 3 - BitZap</div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; align-items: start;">
                <div class="task-card">
                    <div class="task-header">
                        <span class="task-title">Part 3 Swap</span>
                        <span class="task-percentage">55%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 55%;"></div>
                    </div>
                    <div class="task-footer">
                        <span></span>
                        <div class="task-reward">‰∫∫ÂùáÂ•ñÂä±: 37 Â∏Å</div>
                    </div>
                </div>
                <div class="lottery-item" style="height: 100%; display: flex; flex-direction: column; justify-content: space-between; padding: 15px; min-height: 120px;">
                    <div>
                        <div class="lottery-emoji" style="margin-bottom: 8px;">üéÅ</div>
                        <div style="font-weight: 600; margin-bottom: 10px; font-size: 1.2em; color: #ffffff;">Â§ß‰∫é‰∏âÊ¨° Swap</div>
                    </div>
                    <div>
                        <div class="lottery-rate" style="margin-bottom: 5px;">‰∏≠Â•ñÁéá: 80% | 20000‰∫∫‰∏≠Â•ñ</div>
                        <div class="lottery-reward">‰∫∫ÂùáÂ•ñÂä±: 30 Â∏Å</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Part 4 -->
        <div class="part-section">
            <div class="part-title">Part 4 - Helmet NFT</div>
            <div class="special-section">
                <div class="special-title">üèÜ Helmet NFT Â•ñÂä±</div>
                <div class="special-item">
                    <div style="font-size: 1.5em; margin-bottom: 10px;">üé©</div>
                    <div style="font-weight: 600; margin-bottom: 10px;">NFT ÊåÅÊúâËÄÖ‰∏ìÂ±û</div>
                    <div style="color: #8a2be2; font-weight: 600; margin-bottom: 5px;">ÂèÇ‰∏éÁéá: 100%</div>
                    <div style="color: #f0b90b; font-size: 1.2em; font-weight: 600;">ÊØè‰∫∫: 2000 Â∏Å</div>
                </div>
            </div>
        </div>


        <div class="watermark">
            X: @NNNNNNOBITA
        </div>
    </div>
    <script>
      (function() {
        const LANG_STORAGE_KEY = 'calendar_lang';
        const currentLang = (function(){ try { return localStorage.getItem(LANG_STORAGE_KEY) || 'zh'; } catch(_){ return 'zh'; } })();
        const dict = {
          zh: { back: 'ËøîÂõûÊó•ÂéÜ', summary: 'Ê±áÊÄª', lottery: 'ÊäΩÂ•ñ', roundFirst: 'Á¨¨‰∏ÄÊ¨°Ëß£ÈîÅ', roundSecond: 'Á¨¨‰∫åÊ¨°Ëß£ÈîÅ', roundThird: 'Á¨¨‰∏âÊ¨°Ëß£ÈîÅ', headPrefix: 'Binance Booster - ' },
          en: { back: 'Back to Calendar', summary: 'Summary', lottery: 'Lottery', roundFirst: 'First Unlock', roundSecond: 'Second Unlock', roundThird: 'Third Unlock', headPrefix: 'Binance Booster - ' }
        };
        function getMetaFromPath(){
          const p = (location.pathname || '').toLowerCase();
          let token = 'BitLayer';
          if (p.includes('bas')) token = 'BAS';
          if (p.includes('hemi')) token = 'HEMI';
          if (p.includes('holo')) token = 'HOLO';
          const isThird = /third/.test(p);
          const isSecond = /second/.test(p);
          let roundKey = 'roundFirst';
          if (isThird) roundKey = 'roundThird';
          else if (isSecond) roundKey = 'roundSecond';
          return { token, roundKey };
        }
        function applyI18n(){
          try { document.documentElement.setAttribute('lang', currentLang === 'zh' ? 'zh-CN' : 'en-US'); } catch(_){ }
          const meta = getMetaFromPath();
          const t = dict[currentLang];
          const titleStr = `${t.headPrefix}${meta.token} ${t[meta.roundKey]}`;
          const h1 = document.querySelector('h1.title');
          if (h1) h1.textContent = titleStr;
          try { document.title = titleStr; } catch(_){ }
          const back = document.querySelector('.back-link');
          if (back) { back.textContent = t.back; back.setAttribute('aria-label', t.back); }
          const sumTitle = document.querySelector('.summary-title');
          if (sumTitle) sumTitle.textContent = t.summary;
          const lotTitle = document.querySelector('.lottery-title');
          if (lotTitle) lotTitle.textContent = t.lottery;
        }

        // Map Chinese numerals (up to 99) to integers
        function cnNumToInt(s) {
          if (!s) return NaN;
          const map = { '‰∏Ä':1,'‰∫å':2,'‰∏â':3,'Âõõ':4,'‰∫î':5,'ÂÖ≠':6,'‰∏É':7,'ÂÖ´':8,'‰πù':9 };
          if (!s.includes('ÂçÅ')) return map[s] || NaN;
          const [left,right] = s.split('ÂçÅ');
          const tens = left === '' ? 1 : (map[left]||0);
          const units = right === '' ? 0 : (map[right]||0);
          return tens*10+units;
        }

        function toNumberToken(token){
          if (/^\d+$/.test(token)) return token;
          const n = cnNumToInt(token);
          return isNaN(n) ? token : String(n);
        }

        // Translate detail texts: Á¨¨XÂë® / ‰ªªÂä°X / ÊäΩÂ•ñ‰ªªÂä° ‚Üí Week X / Task X / Lottery Tasks
        function translateDetailText(str){
          if (currentLang !== 'en') return str;
          let out = String(str||'');
          try {
            out = out.replace(/ÊäΩÂ•ñ‰ªªÂä°/g, 'Lottery Tasks');
            out = out.replace(/ÊäΩÂ•ñ/g, 'Lottery');
            out = out.replace(/Ê¶ÇÁéá|Âá†Áéá/g, 'Probability');
            out = out.replace(/Â•ñÂä±/g, 'Reward');
            out = out.replace(/Ê±áÊÄª|ÂêàËÆ°|ÊÄªËÆ°|ÂÖ±ËÆ°|ÊÄªÂÖ±/g, 'Total');
            out = out.replace(/Ââ©‰Ωô|ËøòÈúÄ/g, 'Remaining');
            out = out.replace(/Ëá≥Â∞ë|ÊúÄÂ∞ë/g, 'at least');
            out = out.replace(/ÊúÄ‰Ωé/g, 'minimum');
            out = out.replace(/ÊúÄÂ§ö|ÊúÄÈ´ò/g, 'up to');
            out = out.replace(/Á¨¨\s*(\d+)\s*[\-~‚Äî‚Äì]\s*(\d+)\s*Âë®/g, (m,a,b)=>`Weeks ${a}‚Äì${b}`);
            out = out.replace(/Á¨¨\s*([‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ]+)\s*[\-~‚Äî‚Äì]\s*([‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ]+)\s*Âë®/g, (m,a,b)=>`Weeks ${toNumberToken(a)}‚Äì${toNumberToken(b)}`);
            out = out.replace(/Á¨¨\s*(\d+)\s*Âë®/g, (m,n)=>`Week ${n}`);
            out = out.replace(/Á¨¨\s*([‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ]+)\s*Âë®/g, (m,cn)=>`Week ${toNumberToken(cn)}`);
            out = out.replace(/‰ªªÂä°\s*(\d+)/g, (m,n)=>`Task ${n}`);
            out = out.replace(/‰ªªÂä°\s*([‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ]+)/g, (m,cn)=>`Task ${toNumberToken(cn)}`);
            // Common standalone words
            out = out.replace(/‰ªªÂä°/g, 'Task');
            out = out.replace(/Âë®/g, 'Week');
            out = out.replace(/Á¨¨\s*(\d+)\s*Â§©/g, (m,n)=>`Day ${n}`);
            out = out.replace(/Á¨¨\s*([‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ]+)\s*Â§©/g, (m,cn)=>`Day ${toNumberToken(cn)}`);
            // Phases and batches
            out = out.replace(/Á¨¨\s*(\d+)\s*(Èò∂ÊÆµ|Êúü)/g, (m,n)=>`Phase ${n}`);
            out = out.replace(/Á¨¨\s*([‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ]+)\s*(Èò∂ÊÆµ|Êúü)/g, (m,cn)=>`Phase ${toNumberToken(cn)}`);
            out = out.replace(/Á¨¨\s*(\d+)\s*Êâπ/g, (m,n)=>`Batch ${n}`);
            out = out.replace(/Á¨¨\s*([‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ]+)\s*Êâπ/g, (m,cn)=>`Batch ${toNumberToken(cn)}`);
            // Win rate: ‰∏≠Â•ñÁéá: Á∫¶50% | 20000‰∫∫‰∏≠Â•ñ
            function fmtEN(num){ try { return Number(num).toLocaleString('en-US'); } catch(_){ return num; } }
            out = out.replace(/‰∏≠Â•ñÁéá\s*[:Ôºö]\s*/g, 'Win rate: ');
            out = out.replace(/Á∫¶\s*(\d+)\s*%/g, (m,n)=>`~${n}%`);
            out = out.replace(/(\d{1,9})\s*‰∫∫‰∏≠Â•ñ/g, (m,n)=>`${fmtEN(n)} winners`);
            // Per person and coins: ÊØè‰∫∫: 150 Â∏Å / ÊØè‰∫∫150Â∏Å / 150 Â∏Å
            out = out.replace(/ÊØè‰∫∫\s*(\d{1,9})\s*Â∏Å/g, (m,n)=>`Per person ${fmtEN(n)} coins`);
            out = out.replace(/ÊØè‰∫∫\s*[:Ôºö]\s*/g, 'Per person: ');
            out = out.replace(/(\d{1,9})\s*Â∏Å/g, (m,n)=>`${fmtEN(n)} coins`);
            // Renjun (per person) variants
            out = out.replace(/‰∫∫Âùá\s*(\d{1,9})\s*Â∏Å/g, (m,n)=>`Per person ${fmtEN(n)} coins`);
            out = out.replace(/‰∫∫Âùá\s*[:Ôºö]\s*/g, 'Per person: ');
            out = out.replace(/‰∫∫Âùá/g, 'Per person');
            // Today/Yesterday/Tomorrow
            out = out.replace(/‰ªäÂ§©|‰ªäÊó•/g, 'Today');
            out = out.replace(/Êò®Â§©/g, 'Yesterday');
            out = out.replace(/ÊòéÂ§©/g, 'Tomorrow');
            // Part translations
            out = out.replace(/Â∏∏ËßÑ‰ªªÂä°/g, 'Regular Tasks');
            out = out.replace(/Ê∑∑Âêà‰ªªÂä°/g, 'Mixed Tasks');
            out = out.replace(/‰∏ìÂ±û/g, 'Exclusive');
            out = out.replace(/ÊåÅÊúâËÄÖ/g, 'Holder');
            out = out.replace(/ÂèÇ‰∏éÁéá/g, 'Participation Rate');
          } catch(_){}
          // Extra mappings: slots / rank range / AVA top-N extra reward / Êûö/‰∫∫
          try {
            function fmtEN(num){ try { return Number(num).toLocaleString('en-US'); } catch(_){ return num; } }
            // keep toNumberToken defined above (supports Chinese numerals)
            out = out.replace(/ÂêçÈ¢ù/g, 'Slots');
            out = out.replace(/AVA\s*ÊéíÂêçÂâç\s*(\d+)\s*È¢ùÂ§ñ\s*Reward/gi, (m,n)=>`Extra reward for AVA top ${fmtEN(n)}`);
            out = out.replace(/Á¨¨\s*(\d+)\s*[\-~‚Äî‚Äì]\s*(\d+)\s*Âêç/g, (m,a,b)=>`Rank ${fmtEN(a)}‚Äì${fmtEN(b)}`);
            out = out.replace(/Á¨¨\s*(\d+)\s*Âêç/g, (m,a)=>`Rank ${fmtEN(a)}`);
            out = out.replace(/Á¨¨\s*([‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ]+)\s*[\-~‚Äî‚Äì]\s*([‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ]+)\s*Âêç/g, (m,a,b)=>`Rank ${a}‚Äì${b}`);
            out = out.replace(/Á¨¨\s*([‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ]+)\s*Âêç/g, (m,a)=>`Rank ${a}`);
            out = out.replace(/(\d{1,9})\s*Êûö\s*\/\s*‰∫∫/g, (m,n)=>`${fmtEN(n)} coins per person`);
            out = out.replace(/\bÊûö\s*\/\s*‰∫∫\b/g, 'coins per person');
            out = out.replace(/(\d{1,9})\s*Êûö\b/g, (m,n)=>`${fmtEN(n)} coins`);
          } catch(_){}
          // Spacing fix-ups (e.g., "Per personReward" -> "Per person Reward")
          try {
            out = out.replace(/(Per person)(?=[A-Za-z])/g, '$1 ');
            out = out.replace(/(Per person:)\s*(?=[A-Za-z])/g, '$1 ');
          } catch(_){}
          return out;
        }

        function applyDetailTranslations(){
          if (currentLang !== 'en') return;
          // Translate across the whole container
          const root = document.querySelector('.container') || document.body;
          if (!root) return;
          const walker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT, null);
          const updates = [];
          while (walker.nextNode()) {
            const node = walker.currentNode;
            const newVal = translateDetailText(node.nodeValue);
            if (newVal !== node.nodeValue) updates.push([node,newVal]);
          }
          updates.forEach(([n,v])=>{ n.nodeValue = v; });
        }

        applyI18n();
        applyDetailTranslations();
      })();
    </script>
    <script>
      // Fetch BTRUSDT latest futures price and annotate rewards in USDT
      (function(){
        const API = 'https://fapi.binance.com/fapi/v1/ticker/price?symbol=BTRUSDT';
        function fmt(n){ const v = Number(n); return isFinite(v) ? v.toFixed(1) : ''; }
        function lang(){ try { return localStorage.getItem('calendar_lang') || 'zh'; } catch(_){ return 'zh'; } }
        function annotate(price){
          if (!isFinite(price)) return;
          const nodes = document.querySelectorAll('.task-reward, .lottery-reward');
          nodes.forEach(el=>{
            const txt = el.textContent || '';
            if (/USDT/i.test(txt)) return;
            const m = txt.replace(/,/g,'').match(/(\d+(?:\.\d+)?)\s*(?:Â∏Å|Êûö|coins)/i);
            if (!m) return; const coins = parseFloat(m[1]); if (!isFinite(coins)) return;
            const suffix = (lang()==='en' ? ` ($ ${fmt(coins*price)} USDT)` : `Ôºà$ ${fmt(coins*price)} USDTÔºâ`);
            el.textContent = txt + ' ' + suffix;
          });
        }
        try {
          fetch(API).then(r=>r.json()).then(d=>{ const p = parseFloat(d && (d.price||d.lastPrice)); annotate(p); }).catch(()=>{});
        } catch(_) {}
      })();
    </script>
    <script src="scripts/analytics.js" defer></script>
  </body>
</html>